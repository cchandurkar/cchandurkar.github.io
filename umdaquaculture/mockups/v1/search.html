<!DOCTYPE html>
<html>
<head>

	<!-- Titles -->
	<title>Search Aquabase</title>

	<!-- Metas -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

	<!-- Favicon -->
	<link rel="shortcut icon" type="image/png" href="assets/images/icons/favicons/favicon.ico"/>

	<!-- Compiled and minified jQuery -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.4.min.js"></script>

	<!-- Compiled and minified materialize CSS -->
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css">

  	<!-- Compiled and minified materialize JavaScript -->
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js"></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />

     <!-- Leaflet JS -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>

    <!-- Custom Style -->
    <style type="text/css">

    	@import url(http://fonts.googleapis.com/css?family=Oleo+Script);
    	@import url(http://fonts.googleapis.com/css?family=Open+Sans:400,300italic,700,600,800);
    	@import url(http://fonts.googleapis.com/css?family=Noto+Serif:400,700);
    	@import url(http://fonts.googleapis.com/css?family=Noto+Sans:400,700);

	    body, html{
	    	color: #333;
	    }

	    nav{

	    }

	    .full-height{
	    	height:700px;
	    }

	    .cover-page{
	    	
	    }

		#map{
	       height: 500px;
      	}

      	.brand-logo{
      		font-family: "Oleo Script";
      		font-weight: 300;
      	}

      	nav, .navbar-fixed{
      		opacity: 0.95;
      		position: fixed;
      	}

      	#go-down{
      		margin-bottom: 30px;
      	}

      	.down-holder{
      		margin-top: -20px;
      	}

      	.section-title{
      		font-family: "Noto Sans";
      	}

      	.content p{
      		font-family: "Noto Sans";
      		font-size: 1.2em;
      		line-height: 1.6em;
      	}

      	 .parallax-container {
		    height:300px;
		 }

		 .section-title{
		 	line-height: 1.5em;
		 }

		 .partners .col{
		 	padding: 10px
		 }

		 .search-box{
		 	opacity: 0.9;
		 }

		 .search-box ::-webkit-input-placeholder {
		   color: black;
		}

		.search-box :-moz-placeholder { /* Firefox 18- */
		   color: black;  
		}

		.search-box ::-moz-placeholder {  /* Firefox 19+ */
		   color: black;  
		}

		.search-box :-ms-input-placeholder {  
		   color: black;  
		}

    </style>


	<!--  Custom JavaScript -->
    <script type="text/javascript">

    var geojsonData = {
			  "type": "FeatureCollection",
			  "features": [
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -117.42187500000001,
			          41.77131167976407
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -85.78125,
			          34.88593094075317
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -5.9765625,
			          31.653381399664
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          73.47656249999999,
			          23.241346102386135
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          75.5859375,
			          20.3034175184893
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          82.265625,
			          18.312810846425442
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          76.9921875,
			          13.239945499286312
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          114.60937499999999,
			          -0.3515602939922709
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          111.796875,
			          0.7031073524364909
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          101.953125,
			          0.3515602939922709
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          101.953125,
			          13.581920900545844
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          106.171875,
			          15.623036831528264
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -88.59374999999999,
			          31.952162238024975
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -99.84374999999999,
			          30.44867367928756
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -68.90625,
			          -26.431228064506424
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -69.9609375,
			          -28.30438068296277
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -69.2578125,
			          -31.05293398570514
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -69.60937499999999,
			          -33.7243396617476
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -41.1328125,
			          -14.264383087562637
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -56.25,
			          2.4601811810210052
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          16.5234375,
			          -13.2399454992863
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          9.4921875,
			          52.696361078274485
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -17.9296875,
			          64.47279382008166
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -2.8125,
			          53.33087298301704
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          27.0703125,
			          37.996162679728116
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          21.4453125,
			          41.50857729743935
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          54.140625,
			          19.642587534013032
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -96.6796875,
			          60.930432202923335
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -74.53125,
			          60.23981116999893
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -126.5625,
			          54.367758524068385
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          46.40625,
			          16.63619187839765
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -25.3125,
			          70.02058730174062
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -155.0390625,
			          58.44773280389084
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          -142.734375,
			          65.80277639340238
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          137.8125,
			          36.59788913307022
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          144.4921875,
			          -36.3151251474805
			        ]
			      }
			    },
			    {
			      "type": "Feature",
			      "properties": {},
			      "geometry": {
			        "type": "Point",
			        "coordinates": [
			          116.01562499999999,
			          -23.241346102386135
			        ]
			      }
			    }
			  ]
			};

			var nyTimesSquare = [40.757046, -73.9859724];

	    $(document).ready(function(){

	    	// Utilities
	    	$(".full-height").height($(window).height())
	      	$('.parallax').parallax();
	      	$(".side-nav").css({"z-index":1000});
	      	$(".search-box").css({"z-index":800});
	      	$(".button-collapse").sideNav();

	      	// Create Map
	      	var map = L.map('map', { zoomControl:false }).setView([40, 40], 2, true);

	      	// Attribution
	      	L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
				maxZoom: 18,
				attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
					'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
					'Imagery © <a href="http://mapbox.com">Mapbox</a>',
				id: 'examples.map-i875mjb7'
			}).addTo(map);

	      	// GeoJSON
	      	$(geojsonData.features).each(function(i, feature){
				
	      		// Random
				var random = Math.floor(Math.random() * 6) + 1;

	      		// Create Marker
	      		//var marker = L.marker([feature.geometry.coordinates[1], - feature.geometry.coordinates[0]]).addTo(map);
	      		var circle = L.circle([feature.geometry.coordinates[1], feature.geometry.coordinates[0]], 
	      			(Math.floor(Math.random() * 4) + 1) * 150000, {
				    color: random > 2 ? "#F44336" : "#FFC107",
				    fillColor: random > 2 ? "#F44336" : "#FFC107",
				    fillOpacity: 0.5
				}).addTo(map);

	      		// Open Model
				circle.on("click", function(){
					$('#facility-modal').openModal();
				});

	      	});

	      	// Add Search Boxes
	      	var searchInput = L.control({position: "topright"});
	      	
	      	

	      	// on Add
	      	searchInput.onAdd = function (map) {

	      		// Create Div
				var containerDiv = L.DomUtil.create('div', 'search-box');
				containerDiv.setAttribute("style", "z-index:888");
					containerDiv.innerHTML = "<br /><br /><br />";
					var cardDiv = L.DomUtil.create('div', 'card');
						var cardContentDiv = L.DomUtil.create('div', 'card-content');
							
							// Card Title
							var cardTitleDiv = L.DomUtil.create('div', 'card-title grey-text text-darken-3');
							cardTitleDiv.innerHTML = "Search Facilities";

							// Input - Facility Name
							var inputFacilityNameDiv = L.DomUtil.create('div', 'input-field');
								var inputFacilityName = L.DomUtil.create('input', 'validate');
									inputFacilityName.setAttribute("id", "facility-name");
									inputFacilityName.setAttribute("type", "text");
								var labelFacilityName = L.DomUtil.create('label');
									labelFacilityName.setAttribute("for", "facility-name");
									labelFacilityName.innerHTML = "search by facility";

									// Append
									inputFacilityNameDiv.appendChild(inputFacilityName);
									inputFacilityNameDiv.appendChild(labelFacilityName);

							// Input - Species
							var inputSpeciesDiv = L.DomUtil.create('div', 'input-field');
								var inputSpecies = L.DomUtil.create('input', 'validate');
									inputSpecies.setAttribute("id", "species");
									inputSpecies.setAttribute("type", "text");
								var labelSpecies = L.DomUtil.create('label');
									labelSpecies.setAttribute("for", "species");
									labelSpecies.innerHTML = "search by species";

									// Append
									inputSpeciesDiv.appendChild(inputSpecies);
									inputSpeciesDiv.appendChild(labelSpecies);

							// Input - Country
							var inputCountryDiv = L.DomUtil.create('div', 'input-field');
								var inputCountry = L.DomUtil.create('input', 'validate');
									inputCountry.setAttribute("id", "country");
									inputCountry.setAttribute("type", "text");
								var labelCountry = L.DomUtil.create('label');
									labelCountry.setAttribute("for", "country");
									labelCountry.innerHTML = "search by country";

									// Append
									inputCountryDiv.appendChild(inputCountry);
									inputCountryDiv.appendChild(labelCountry);

							// Search button
							var searchBtn = L.DomUtil.create('a', 'search-btn waves-effect waves-light btn teal white-text');
							searchBtn.setAttribute("style", "margin-top:5px");
							searchBtn.innerHTML = "Search";
							L.DomEvent.addListener(searchBtn, "click", function(){
								map.setView(nyTimesSquare, 12, true);
							});

						// Append Remaining Divs	
						cardContentDiv.appendChild(cardTitleDiv);
						cardContentDiv.appendChild(inputFacilityNameDiv);
						cardContentDiv.appendChild(inputSpeciesDiv);
						cardContentDiv.appendChild(inputCountryDiv);
						cardContentDiv.appendChild(searchBtn);
					cardDiv.appendChild(cardContentDiv);
				containerDiv.appendChild(cardDiv);
			   	
			   	// Disable drag on mouse over
		      	L.DomEvent.addListener(cardDiv, "mouseover", function(){
		      		map.dragging.disable();
		      	});

		      	// Enable drag on mouse out
		      	L.DomEvent.addListener(cardDiv, "mouseout", function(){
		      		map.dragging.enable();
		      	});

			    return containerDiv;
		    };

		    // Add it to map
		    searchInput.addTo(map);

		    L.DomEvent.addListener($(".search-btn"), "click", function(){
		    	alert(3453);
		    });
			

	      });

	</script>


</head>
<body>

	<!-- -Navigation -->
	<div class="navbar-fixed">
		<nav class="white">
			 <div class="container">
		    	<div class="nav-wrapper">
		        	<a href="index.html" class="brand-logo teal-text text-darken-3">AquaBase</a>
		        	<a href="#" data-activates="mobile-demo" class="button-collapse teal-text text-darken-3">
		        		<i class="mdi-navigation-menu teal-text text-darken-3"></i>
		        	</a>
	        		<ul class="right hide-on-med-and-down">
	        			<li><a href="search.html" class="teal-text text-darken-3">Search</a></li>
	          			<li><a href="about.html" class="teal-text text-darken-3">About</a></li>
	          			<li><a href="docs.html" class="teal-text text-darken-3">Docs</a></li>
	        		</ul>
	        		<ul class="side-nav" id="mobile-demo" style="z-index:999">
	        			<li><a href="index.html" class="teal-text text-darken-3">Home</a></li>
	        			<li><a href="search.html" class="teal-text text-darken-3">Search</a></li>
			        	<li><a href="about.html" class="teal-text text-darken-3">About</a></li>
	          			<li><a href="docs.html" class="teal-text text-darken-3">Docs</a></li>
			      	</ul>
		      	</div>
		     </div>
		 </nav>
	</div>

	<!-- Map -->
	<div id="map" class='full-height'></div>

	<!-- Modal Structure -->
	<div id="facility-modal" class="modal">
		<div class="modal-content">
	    	<h4 style="padding-bottom:0;margin-bottom:0;">XYZ Facility Inc.</h4>
	    	<p style="padding-top:0;margin-top:0;" class="grey-text text-darken-2">25B Bayberry Road, New Bedford, MA 02740</p>
	    	<div class="divider"></div>
	    	<p>Donec in scelerisque turpis, a tempus neque. Aenean ac ipsum ex. Cras et nunc non diam sodales maximus. Donec pharetra lacus ante, a convallis augue venenatis non</p>
		      <table class="responsive-table hoverable">
		        <thead>
		          <tr>
		              <th data-field="id">Name</th>
		              <th data-field="name">Item Name</th>
		              <th data-field="price">Item Price</th>
		          </tr>
		        </thead>

		        <tbody>
		          <tr>
		            <td>Alvin</td>
		            <td>Eclair</td>
		            <td>$0.87</td>
		          </tr>
		          <tr>
		            <td>Alan</td>
		            <td>Jellybean</td>
		            <td>$3.76</td>
		          </tr>
		          <tr>
		            <td>Jonathan</td>
		            <td>Lollipop</td>
		            <td>$7.00</td>
		          </tr>
		        </tbody>
		      </table>
	    </div>
	    <div class="modal-footer">
	    	<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Dismiss</a>
	    </div>
	</div>
            
        


</body>
</html>